/**
 * SfGather-js SDK
 * @name SfGather
 * @author 854638,01368384
 */
!function(e){"use strict";function t(){o(document,"click",_e),o(window,"load",s),o(window,"hashchange",s),window.onerror=a}function n(){if(!e.ignore_visitor){var t=0;if(void 0!==e.onload&&e.onload.length>0){for(t=0;t<e.onload.length;t++)"function"==typeof e.onload[t]&&e.onload[t]();e.onload=[]}if(void 0!==e.q&&e.q.length>0){var i,o=e.q;for(e.q=[],t=0;t<o.length;t++)i=o[t],g("Processing queued call",i),"function"==typeof i?i():i.constructor===Array&&i.length>0&&void 0!==e[i[0]]&&e[i[0]].apply(null,i.slice(1))}if(X&&Q&&me){var a=v();a-H>se&&(e.session_duration(a-H),H=a)}if(F.length>0){if(1===F.length)F.forEach(function(e){r(e)}),F=[];else{var s=F.splice(0,de),d={};d.event_id="batch",d.type="batch",d.properties=[],s.forEach(function(e){e.type||(e.type="event"),d.properties.push(e)}),r(d)}pe("sf_gather_event",F)}if(z.length>0&&ce&&v()>ie){ce=!1;var u=z.shift();g("Processing request",u),w(u,function(e,t){g("Request Finished",t,e),e&&(z.unshift(t),ie=v()+oe),pe("sf_gather_queue",z,!0),ce=!0})}setTimeout(n,J)}}function i(e){var t=e.getAttribute("sftag");if(!t)return null;var n=t.split(",");if(0===n.length)return null;for(var i={event_id:"click_auto",tagName:e.tagName.toLowerCase()},o=["id","class"],r=0;r<o.length;r++){e.getAttribute(o[r])&&(i[o[r]]=e.getAttribute(o[r]))}for(var r=0;r<n.length;r++){var a=n[r],s=a.split(":");if(2===s.length){var d=s[0].trim(),u=s[1].trim();"event_id"===d?u&&"null"!==u&&(i.event_id=u):i[d]=u}}return i}function o(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function r(t){if(!e.ignore_visitor){if(!e.device_id)return void g("device_id is missing");if(!e.url)return void g("url is missing");t.app_id=e.app_id,t.platform=e.platform,t.device_id=e.device_id,t.cookie_id=T("JSESSIONID")||"",t.sdk="js",t.sdk_name=B,t.sdk_v=j,t.s_w=m(),t.s_h=_(),t.model=P(),t.os=q(),t.os_v=R(),t.page_url=location.href,t.page_ref=document.referrer,M(t);var n=A();t.browser=n.appname,t.browser_v=n.version,t.event_id||(t.event_id="view_page"),t.type||(t.type="event"),t.time||(t.time=p()),document.getElementsByTagName("title")[0]&&(t.page_name=document.getElementsByTagName("title")[0].innerHTML),e.uid&&(t.uid=e.uid),e.sec_uid&&(t.sec_uid=e.sec_uid),e.login_type&&(t.login_type=e.login_type),z.length>Y&&z.shift(),z.push(t),pe("sf_gather_queue",z,!0)}}function a(e,t,n){var i="";void 0!==e&&(i=i+e+"\n"),void 0!==t&&(i+="at "+t),void 0!==n&&(i+=":"+n),i+="\n";try{for(var o=[],r=arguments.callee,a=r.caller;a;)o.push(a.name),a=a.caller;i+=o.join("\n")}catch(e){}h({stack:i,event_id:"error_auto"},!1)}function s(){var t=window.location.href;ee=t.substr(t.indexOf(window.location.pathname));var n={event_id:"view_page_auto"};window.gatherConfig&&window.gatherConfig._st&&window.gatherConfig._st instanceof Date&&(n.load_time=(new Date).getTime()-window.gatherConfig._st.getTime()),e.add_event(n)}function d(){if(ee){var t={event_id:"view_page_duration",name:ee,segment:W,dur:v()-te};e.add_event(t),ee=null}}function u(){return ee}function c(){return pe("sf_gather_id")||l()}function l(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}function f(){var t={};if(t._app_version=e.app_version,t._ua=navigator.userAgent,screen.width){var n=screen.width?parseInt(screen.width):0,i=screen.height?parseInt(screen.height):0;if(0!==n&&0!==i){if(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&window.devicePixelRatio)n=Math.round(n*window.devicePixelRatio),i=Math.round(i*window.devicePixelRatio);else if(90===Math.abs(window.orientation)){var o=n;n=i,i=o}t._resolution=n+"x"+i}}window.devicePixelRatio&&(t._density=window.devicePixelRatio);var r=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage;if(void 0!==r&&(t._locale=r),void 0!==document.referrer&&document.referrer.length){var a=le.exec(document.referrer);if(a&&a[11]&&a[11]!=window.location.hostname){var s=!1;if(V&&V.length)for(var d=0;d<V.length;d++)try{var u=new RegExp(V[d]);if(u.test(document.referrer)){g("Ignored:",document.referrer),s=!0;break}}catch(e){}s||(t._store=document.referrer)}}return g("Got metrics",t),t}function m(){var e=window.devicePixelRatio||1,t=Math.round(screen.width*e);return 1242===t&&"ios"===q()&&(t=1080),1082===t&&(t=1080),t}function _(){var e=window.devicePixelRatio||1,t=Math.round(screen.height*e);return 2208===t&&"ios"===q()&&(t=1920),1922===t&&(t=1920),t}function g(){e.debug&&"undefined"!=typeof console&&(arguments[1]&&"object"==typeof arguments[1]&&(arguments[1]=JSON.stringify(arguments[1])),console.log(Array.prototype.slice.call(arguments).join("\n")))}function v(){return Math.floor((new Date).getTime()/1e3)}function p(){var e=(new Date).getTime();return ue>=e?ue++:ue=e,ue}function h(t,n,i){if(t){i=i||K;var o="";"object"==typeof t?void 0!==t.stack?o=t.stack:(void 0!==t.name&&(o+=t.name+":"),void 0!==t.message&&(o+=t.message+"\n"),void 0!==t.fileName&&(o+="in "+t.fileName+"\n"),void 0!==t.lineNumber&&(o+="on "+t.lineNumber),void 0!==t.columnNumber&&(o+=":"+t.columnNumber)):o=t+"",n=!!n;var r=f(),a={_resolution:r._resolution,_error:o,_app_version:r._app_version,_run:v()-I};a._not_os_specific=!0;var s=navigator.battery||navigator.webkitBattery||navigator.mozBattery||navigator.msBattery;s&&(a._bat=Math.floor(100*s.level)),void 0!==navigator.onLine&&(a._online=!!navigator.onLine),a._background=!document.hasFocus(),U.length>0&&(a._logs=U.join("\n")),U=[],a._nonfatal=n,a._view=(window.location.pathname||"")+(window.location.search||"")+(window.location.hash||""),void 0!==i&&(a._custom=i);try{var d=document.createElement("canvas"),u=d.getContext("experimental-webgl");a._opengl=u.getParameter(u.VERSION)}catch(e){}var c=t.event_id?t.event_id:"error";e.add_event({error_log:JSON.stringify(a),event_id:c})}}function w(t,n){try{g("Sending XML HTTP request");var i=window.XMLHttpRequest?new window.XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null,o=JSON.stringify(t);i.open("POST",e.url+G,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.setRequestHeader("Content-type","text/html; charset=utf-8"),i.onreadystatechange=function(){4===this.readyState&&this.status>=200&&this.status<500?"function"==typeof n&&n(!1,t):4===this.readyState&&(g("Failed Server XML HTTP request",this.status),"function"==typeof n&&n(!0,t))},i.send(o)}catch(e){g("Failed XML HTTP request",e),"function"==typeof n&&n(!0,t)}}function x(e){var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function y(e){return"/"==e.substr(e.length-1)?e.substr(0,e.length-1):e}function b(e,t){for(var n,i={},o=0;o<t.length;o++)n=t[o],void 0!==e[n]&&(i[n]=e[n]);return i}function L(e){return void 0===e.pageY&&"number"==typeof e.clientX&&document.documentElement&&(e.pageX=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.pageY=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),e}function k(){var e=document;return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function C(){var e=document;return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function O(e){pe("sf_gather_token",e)}function S(){var e=pe("sf_gather_token");return pe("sf_gather_token",null),e}function E(e){return void 0===e}function T(e){for(var t=e+"=",n=document.cookie.split(";"),i=0,o=n.length;i<o;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}function N(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}function M(e){N("utm_source")&&(e.utm_source=N("utm_source")),N("utm_medium")&&(e.utm_medium=N("utm_medium")),N("utm_term")&&(e.utm_term=N("utm_term")),N("utm_content")&&(e.utm_content=N("utm_content")),N("utm_campaign")&&(e.utm_campaign=N("utm_campaign"))}function A(){var e={appname:"unknown",version:0},t=window.navigator.userAgent.toLowerCase();return/(msie|firefox|opera|chrome|netscape)\D+(\d[\d.]*)/.test(t)?(e.appname=RegExp.$1,e.version=RegExp.$2):/version\D+(\d[\d.]*).*safari/.test(t)&&(e.appname="safari",e.version=RegExp.$2),e}function q(e){return e=e||navigator.userAgent,/(Windows NT 10.0|Windows 10)/i.test(e)?"windows 10":/(Windows NT 6.3|Windows 8.1)/i.test(e)?"windows 8.1":/(Windows NT 6.2|Windows 8)/i.test(e)?"windows 8":/(Windows NT 6.1|Windows 7)/i.test(e)?"windows 7":/Windows NT 6.0/i.test(e)?"windows vista":/Windows NT 5.2/i.test(e)?"windows 2003":/Windows NT 5.1/i.test(e)?"windows xp":/Windows NT 5.0/i.test(e)?"windows 2000":/(iPhone|iPad|iPod|iOS)/i.test(e)?"ios":/android/i.test(e)?"android":/linux/i.test(e)?"linux":/(macintosh|mac os x)/i.test(e)?"mac os":""}function R(e){e=e||navigator.userAgent;var t=q(e);if("android"===t){if(/android\s+(\d+(.\d+)*)/i.test(e))return RegExp.$1}else if("ios"===t&&/cpu\s+(?:iphone\s+)?os\s+(\d+(_\d+)*)/i.test(e))return RegExp.$1.replace(/_/g,".");return""}function P(e){return e=e||navigator.userAgent,"android"===q(e)&&/android\s+\d+(?:.\d+)*;\s+(.+)\s+build/i.test(e)?RegExp.$1:""}var H,W,I,j="1.0.4",B="SfGather-js",D=!1,X=!1,G="",J=500,Y=1e3,z=[],F=[],U=[],$={},V=[],K=null,Q=!0,Z=0,ee=null,te=0,ne=0,ie=0,oe=60,re=20,ae=0,se=60,de=10,ue=0,ce=!0,le=/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,fe=/(SfGatherSiteBot|nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver|bingbot|Google Web Preview|Mediapartners-Google|AdsBot-Google|Baiduspider|Ezooms|YahooSeeker|AltaVista|AVSearch|Mercator|Scooter|InfoSeek|Ultraseek|Lycos|Wget|YandexBot|Yandex|YaDirectFetcher|SiteBot|Exabot|AhrefsBot|MJ12bot|TurnitinBot|magpie-crawler|Nutch Crawler|CMS Crawler|rogerbot|Domnutch|ssearch_bot|XoviBot|netseer|digincore|fr-crawler|wesee|AliasIO)/,me=!0;e.init=function(i){if(!D&&(I=v(),D=!0,z=pe("sf_gather_queue")||[],$={},F=pe("sf_gather_event")||[],i=i||{},J=i.interval||e.interval||J,Y=i.queue_size||e.queue_size||Y,oe=i.fail_timeout||e.fail_timeout||oe,re=i.inactivity_time||e.inactivity_time||re,se=i.session_update||e.session_update||se,de=i.max_events||e.max_events||de,e.app_id=i.app_id||e.app_id||"",e.device_id=i.device_id||e.device_id||c(),e.url=y(i.url||e.url||"http://218.17.248.243:40021/json_data"),e.platform=i.platform||e.platform||"pc",e.app_version=i.app_version||e.app_version||"0.0",e.uid=i.uid||e.uid||null,e.sec_uid=i.sec_uid||e.sec_uid||null,e.login_type=i.login_type||e.login_type||null,e.debug=i.debug||e.debug||!1,e.ignore_bots=i.ignore_bots||e.ignore_bots||!0,e.ignore_visitor=i.ignore_visitor||e.ignore_visitor||!1,e.ignore_prefetch=i.ignore_prefetch||e.ignore_prefetch||!0,e.force_post=i.force_post||e.force_post||!1,e.q=e.q||[],e.onload=e.onload||[],i.ignore_referrers&&i.ignore_referrers.constructor===Array?V=i.ignore_referrers:e.ignore_referrers&&e.ignore_referrers.constructor===Array&&(V=e.ignore_referrers),""===e.url&&(g("Please provide server URL"),e.ignore_visitor=!0),e.ignore_prefetch&&void 0!==document.visibilityState&&"prerender"===document.visibilityState&&(e.ignore_visitor=!0),e.ignore_bots&&fe.test(navigator.userAgent)&&(e.ignore_visitor=!0),window.name&&0===window.name.indexOf("sf_gather:")?e.passed_data=JSON.parse(window.name.replace("sf_gather:","")):location.hash&&0===location.hash.indexOf("#sf_gather:")&&(e.passed_data=JSON.parse(location.hash.replace("#sf_gather:",""))),e.passed_data&&e.passed_data.token&&e.passed_data.purpose&&(e.passed_data.token!=pe("sf_gather_old_token")&&(O(e.passed_data.token),pe("sf_gather_old_token",e.passed_data.token)),"heatmap"===e.passed_data.purpose&&(e.ignore_visitor=!0,showLoader(),loadJS(e.url+"/views/heatmap.js",hideLoader))),t(),!e.ignore_visitor&&(g("SfGather initialized"),e.onload.constructor!==Array&&(e.onload=[]),e.q.constructor!==Array&&(e.q=[]),n(),pe("sf_gather_id",e.device_id),location.search)))for(var o=location.search.substring(1).split("&"),r=0;r<o.length;r++){var a=o[r].split("=");"sf_gather_id"==a[0]?pe("sf_gather_cmp_id",a[1]):"sf_gather_uid"==a[0]&&pe("sf_gather_cmp_uid",a[1])}};var _e=function(t){var n=ge(t),o=i(n);o&&e.q.push(["add_event",o])};e.begin_session=function(t){if(!X){g("Session started"),H=v(),X=!0,Q=!t;var n={};n.begin_session=1,n.event_id="session",e.add_event(n)}},e.set_login_info=function(t,n,i){t&&(e.uid=t),n&&(e.sec_uid=n),i&&(e.login_type=i)},e.session_duration=function(t){X&&(g("Session extended",t),e.add_event({session_duration:t,event_id:"session_duration"}))},e.end_session=function(t){X&&(t=t||v()-H,g("Ending session"),d(),X=!1,e.add_event({event_id:"session",end_session:1,session_duration:t}))},e.change_id=function(t,n){if(e.device_id!=t){n||(e.end_session(),$={});var i=e.device_id;e.device_id=t,pe("sf_gather_id",e.device_id),g("Changing id"),n?r({old_device_id:i}):e.begin_session(!Q)}},e.add_event=function(e){var t={};t.time=p(),e.event_id?(t.event_id=e.event_id,delete e.event_id,t.properties=e):(t.event_id="view_default",t.properties=e),F.push(t),pe("sf_gather_event",F)},e.start_event=function(e){if($[e])return void g("Timed event with key "+e+" already started");$[e]=v()},e.end_event=function(t){"string"==typeof t&&(t={key:t}),t.dur=v()-$[t.key],e.add_event(t),delete $[t.key]},e.user_details=function(e){g("Adding userdetails: ",e);var t=["name","username","email","organization","phone","picture","gender","byear","custom"];r({user_details:JSON.stringify(b(e,t))})},e.track_errors=function(e,t){h(e,!0,t)},e.add_log=function(e){U.push(e)},e.stop_time=function(){me&&(me=!1,Z=v()-H,ne=v()-te)},e.start_time=function(){me||(me=!0,H=v()-Z,te=v()-ne,ne=0)},e.track_sessions=function(){function t(){document[i]?e.stop_time():e.start_time()}function n(){ae>=re&&e.start_time(),ae=0}e.begin_session(),e.start_time(),o(window,"beforeunload",function(){e.end_session()}),o(window,"unload",function(){e.end_session()});var i="hidden";i in document?document.addEventListener("visibilitychange",t):(i="mozHidden")in document?document.addEventListener("mozvisibilitychange",t):(i="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",t):(i="msHidden")in document?document.addEventListener("msvisibilitychange",t):"onfocusin"in document?(o(window,"focusin",function(){e.start_time()}),o(window,"focusout",function(){e.stop_time()})):(o(window,"focus",function(){e.start_time()}),o(window,"blur",function(){e.stop_time()}),o(window,"pageshow",function(){e.start_time()}),o(window,"pagehide",function(){e.stop_time()})),o(window,"mousemove",n),o(window,"click",n),o(window,"keydown",n),o(window,"scroll",n),setInterval(function(){++ae>=re&&e.stop_time()},6e4)},e.track_pageview=function(t,n){if(d(),t&&t.constructor===Array&&(n=t,t=null),t=t||window.location.pathname,n&&n.length)for(var i=0;i<n.length;i++)try{var o=new RegExp(n[i]);if(o.test(t))return void g("Ignored:",t)}catch(e){}ee=t,te=v();var r={name:t,visit:1,domain:window.location.hostname};if(void 0!==document.referrer&&document.referrer.length){var a=le.exec(document.referrer);a&&a[11]&&a[11]!=window.location.hostname&&(r.start=1)}r.event_id="view_page",e.add_event(r)},e.track_clicks=function(t,n){function i(t){if(r){if(r=!1,L(t),void 0!==t.pageX&&void 0!==t.pageY){var i,o=k(),a=C(),s={type:"click",x:t.pageX,y:t.pageY,width:a,height:o,domain:window.location.hostname};i=n?Object.assign(n,s):s,i.event_id="click",e.add_event(i)}setTimeout(function(){r=!0},1e3)}}t=t||document;var r=!0;o(t,"click",i)},e.track_links=function(t){function n(t){var n=ge(t).closest("a");if(n&&(L(t),e.add_event({event_id:"click_link",href:n.href,text:n.innerText,id:n.id,x:t.pageX,y:t.pageY}),void 0!==n.href&&"_blank"!==n.target&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey))){0!==n.href.replace(window.location.href.split("#")[0],"").indexOf("#")&&e.end_session()}}t=t||document,o(t,"click",n)},e.track_forms=function(t){function n(e){return e.name||e.id||e.type||e.nodeName}function i(t){var i,o=ge(t),r={id:o.id,name:o.name,action:o.action,method:o.method};if(void 0!==o.elements)for(var a=0;a<o.elements.length;a++)if((i=o.elements[a])&&"password"!=i.type)if(void 0===r["input:"+n(i)]&&(r["input:"+n(i)]=[]),"select"==i.nodeName.toLowerCase())if(void 0!==i.multiple){var s=[];if(void 0!==i.options)for(var d=0;d<i.options.length;d++)i.options[d].selected&&s.push(i.options[d].value);r["input:"+n(i)].push(s.join(", "))}else r["input:"+n(i)].push(i.options[i.selectedIndex].value);else"input"==i.nodeName.toLowerCase()?void 0!==i.type&&("checkbox"==i.type.toLowerCase()||"radio"==i.type.toLowerCase())?i.checked&&r["input:"+n(i)].push(i.value):r["input:"+n(i)].push(i.value):"textarea"==i.nodeName.toLowerCase()?r["input:"+n(i)].push(i.value):void 0!==i.value&&r["input:"+n(i)].push(i.value);for(var u in r)void 0!==r[u].join&&(r[u]=r[u].join(", "));r.event_id="formSubmit",e.add_event(r),e.end_session()}t=t||document,o(t,"submit",i)},e.collect_from_forms=function(t,n){function i(i){var o,r=ge(i),a={},s=!1;if(void 0!==r.elements){var d,u,c={},l=t.getElementsByTagName("LABEL");for(d=0;d<l.length;d++)l[d].htmlFor&&""!==l[d].htmlFor&&(c[l[d].htmlFor]=l[d].innerText||l[d].textContent||l[d].innerHTML);for(d=0;d<r.elements.length;d++)if((o=r.elements[d])&&"password"!=o.type&&-1==o.className.indexOf("sf_gather_user_ignore")){var f="";if("select"==o.nodeName.toLowerCase())if(void 0!==o.multiple){var m=[];if(void 0!==o.options)for(u=0;u<o.options.length;u++)o.options[u].selected&&m.push(o.options[u].value);f=m.join(", ")}else f=o.options[o.selectedIndex].value;else"input"==o.nodeName.toLowerCase()?void 0!==o.type&&("checkbox"==o.type.toLowerCase()||"radio"==o.type.toLowerCase())?o.checked&&(f=o.value):f=o.value:"textarea"==o.nodeName.toLowerCase()?f=o.value:void 0!==o.value&&(f=o.value);if(o.className&&-1!=o.className.indexOf("sf_gather_user_")){var _=o.className.split(" ");for(u=0;u<_.length;u++)if(0===_[u].indexOf("sf_gather_user_")){a[_[u].replace("sf_gather_user_","")]=f,s=!0;break}}else o.type&&"email"==o.type.toLowerCase()||o.name&&-1!=o.name.toLowerCase().indexOf("email")||o.id&&-1!=o.id.toLowerCase().indexOf("email")||o.id&&c[o.id]&&-1!=c[o.id].toLowerCase().indexOf("email")||/[^@\s]+@[^@\s]+\.[^@\s]+/.test(f)?(a.email||(a.email=f),s=!0):o.name&&-1!=o.name.toLowerCase().indexOf("username")||o.id&&-1!=o.id.toLowerCase().indexOf("username")||o.id&&c[o.id]&&-1!=c[o.id].toLowerCase().indexOf("username")?(a.username||(a.username=f),s=!0):o.name&&(-1!=o.name.toLowerCase().indexOf("tel")||-1!=o.name.toLowerCase().indexOf("phone")||-1!=o.name.toLowerCase().indexOf("number"))||o.id&&(-1!=o.id.toLowerCase().indexOf("tel")||-1!=o.id.toLowerCase().indexOf("phone")||-1!=o.id.toLowerCase().indexOf("number"))||o.id&&c[o.id]&&(-1!=c[o.id].toLowerCase().indexOf("tel")||-1!=c[o.id].toLowerCase().indexOf("phone")||-1!=c[o.id].toLowerCase().indexOf("number"))?(a.phone||(a.phone=f),s=!0):o.name&&(-1!=o.name.toLowerCase().indexOf("org")||-1!=o.name.toLowerCase().indexOf("company"))||o.id&&(-1!=o.id.toLowerCase().indexOf("org")||-1!=o.id.toLowerCase().indexOf("company"))||o.id&&c[o.id]&&(-1!=c[o.id].toLowerCase().indexOf("org")||-1!=c[o.id].toLowerCase().indexOf("company"))?(a.organization||(a.organization=f),s=!0):(o.name&&-1!=o.name.toLowerCase().indexOf("name")||o.id&&-1!=o.id.toLowerCase().indexOf("name")||o.id&&c[o.id]&&-1!=c[o.id].toLowerCase().indexOf("name"))&&(a.name||(a.name=""),a.name+=f+" ",s=!0)}}s&&(g("Gathered user data",a),n?e.user_details({custom:a}):e.user_details(a)),e.end_session()}t=t||document,o(t,"submit",i)},Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;for(e=e.toUpperCase();t;){if(t.nodeName.toUpperCase()==e)return t;t=t.parentElement}});var ge=function(e){return e?void 0!==e.target?e.target:e.srcElement:window.event.srcElement},ve=function(e,t,n){function i(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="; expires="+i.toGMTString();document.cookie=e+"="+t+o+"; path=/"}n=n||!1;var o,r=!1;if("undefined"!=typeof localStorage){r=!0;try{localStorage.setItem("testLocal",!0)}catch(e){r=!1}}if(void 0!==t&&null!==t&&("object"==typeof t&&(t=JSON.stringify(t)),r?localStorage.setItem(e,t):n||i(e,t,30)),void 0===t){r?o=localStorage.getItem(e):n||(o=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0,o=n.length;i<o;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}(e));try{o=JSON.parse(o)}catch(e){o=o}return o}null===t&&(r?localStorage.removeItem(e):n||i(e,"",-1))},pe=function(t,n){var i=e.app_id;if("string"==typeof i&&"string"==typeof t&&0!==t.trim().length){var o=ve(i)||{};if(E(n)){var r=o[t];return r||null}o[t]=n,ve(i,o)}};e._internals={store:pe,getDocWidth:C,getDocHeight:k,get_page_coord:L,get_event_target:ge,getProperties:b,stripTrailingSlash:y,prepareParams:x,sendXmlHttpRequest:w,recordError:h,getMsTimestamp:p,getTimestamp:v,log:g,getMetrics:f,generateUUID:l,getId:c,heartBeat:n,toRequestQueue:r,reportViewDuration:d,getLastView:u,setToken:O,getToken:S,getQueryString:N,getUtmData:M,getBrowserInfo:A}}(window.SfGather=window.SfGather||{});